<!-- DompetKu Admin - Website Keuangan  -->
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DompetKu Admin - Dashboard Keuangan</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    /* CSS dipersingkat tapi berfungsi penuh */
    *{box-sizing:border-box}body{margin:0;font-family:"Poppins",sans-serif;background-color:#f4f6fb;color:#333}
    #loginPage{display:flex;justify-content:center;align-items:center;height:100vh;background:linear-gradient(135deg,#42a5f5,#1e88e5)}
    #loginBox{background:#fff;padding:40px;border-radius:15px;width:320px;box-shadow:0 10px 25px rgba(0,0,0,.2);text-align:center}
    #loginBox input{width:100%;padding:10px;margin:8px 0;border:1px solid #ccc;border-radius:6px}
    #loginBox button{width:100%;background:#1565c0;color:white;padding:10px;border:none;border-radius:6px;font-weight:600;cursor:pointer}
    #app{display:none;flex;height:100vh}
    aside{width:230px;background:#1e88e5;color:white;display:flex;flex-direction:column;padding:20px 10px}
    .menu-item{padding:12px 15px;border-radius:8px;margin:5px 0;cursor:pointer;transition:.3s}
    .menu-item:hover,.menu-item.active{background:#1565c0}
    header{display:flex;justify-content:space-between;align-items:center;background:white;padding:15px 25px;box-shadow:0 2px 10px rgba(0,0,0,.1)}
    .container{padding:25px;animation:fadeIn .5s ease}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    .card-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:20px;margin-bottom:25px}
    .card{background:white;border-radius:10px;padding:20px;box-shadow:0 2px 10px rgba(0,0,0,.05);text-align:center}
    table{width:100%;border-collapse:collapse;background:white;border-radius:10px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,.1)}
    th,td{text-align:left;padding:10px 15px;border-bottom:1px solid #ddd}
    th{background:#1565c0;color:white}.btn-hapus{background:#e53935;color:white;border:none;padding:6px 10px;border-radius:5px;cursor:pointer}
    .plus{color:#43a047}.minus{color:#e53935}
  </style>
</head>
<body>
  <div id="loginPage">
    <div id="loginBox">
      <h2>Login Admin</h2>
      <input type="text" id="username" placeholder="Username" />
      <input type="password" id="password" placeholder="Password" />
      <button onclick="login()">Masuk</button>
      <p id="loginError" style="color:red;display:none;">Username atau password salah!</p>
    </div>
  </div>

  <div id="app">
    <aside>
      <h2>üí∞ DompetKu</h2>
      <div class="menu-item active" onclick="showPage('dashboard')">üè† Dashboard</div>
      <div class="menu-item" onclick="showPage('transaksi')">üíµ Transaksi</div>
      <div class="menu-item" onclick="showPage('laporan')">üìä Laporan</div>
      <div class="menu-item" onclick="logout()">üö™ Logout</div>
    </aside>

    <div style="flex:1;display:flex;flex-direction:column;">
      <header><h3 id="pageTitle">Dashboard</h3><div><strong>Admin</strong></div></header>
      <main><div class="container" id="content"></div></main>
    </div>
  </div>

  <script>
    const ADMIN={username:"admin",password:"12345"};
    const loginPage=document.getElementById("loginPage"),app=document.getElementById("app"),content=document.getElementById("content"),pageTitle=document.getElementById("pageTitle");
    let transaksi=JSON.parse(localStorage.getItem("transaksi"))||[];

    function login(){
      const user=document.getElementById("username").value,pass=document.getElementById("password").value;
      if(user===ADMIN.username&&pass===ADMIN.password){
        localStorage.setItem("loggedIn","true");loginPage.style.display="none";app.style.display="flex";showDashboard();
      }else document.getElementById("loginError").style.display="block";
    }
    function logout(){localStorage.removeItem("loggedIn");app.style.display="none";loginPage.style.display="flex";}
    function formatDate(d){return new Date(d).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"});}
    function updateSaldo(){let inx=0,out=0;transaksi.forEach(t=>{t.tipe==="pemasukan"?inx+=t.jumlah:out+=t.jumlah});return{pemasukan:inx,pengeluaran:out,saldo:inx-out}}
    function showDashboard(){
      const {pemasukan,pengeluaran,saldo}=updateSaldo();
      content.innerHTML=`<div class="card-container">
        <div class="card"><h3>Pemasukan</h3><p class="plus">Rp ${pemasukan.toLocaleString("id-ID")}</p></div>
        <div class="card"><h3>Pengeluaran</h3><p class="minus">Rp ${pengeluaran.toLocaleString("id-ID")}</p></div>
        <div class="card"><h3>Saldo</h3><p>Rp ${saldo.toLocaleString("id-ID")}</p></div></div>`;
      pageTitle.textContent="Dashboard";setActive("üè† Dashboard");
    }
    function showTransaksi(){
      content.innerHTML=`<h3>Tambah Transaksi</h3>
      <form id="formTrx"><input type="text" id="desc" placeholder="Deskripsi" required>
      <input type="number" id="amt" placeholder="Jumlah (Rp)" required>
      <select id="tipe"><option value="pemasukan">Pemasukan</option><option value="pengeluaran">Pengeluaran</option></select>
      <input type="date" id="tgl" required><button>Tambah</button></form>
      <table><thead><tr><th>No</th><th>Deskripsi</th><th>Tipe</th><th>Jumlah</th><th>Tanggal</th><th>Aksi</th></tr></thead><tbody></tbody></table>`;
      renderTable();
      document.getElementById("formTrx").onsubmit=e=>{
        e.preventDefault();let d={deskripsi:desc.value,jumlah:+amt.value,tipe:tipe.value,tanggal:tgl.value};
        transaksi.push(d);localStorage.setItem("transaksi",JSON.stringify(transaksi));e.target.reset();renderTable();
      };
      pageTitle.textContent="Transaksi";setActive("üíµ Transaksi");
    }
    function renderTable(){
      const tb=document.querySelector("tbody");
      tb.innerHTML=transaksi.map((t,i)=>`<tr><td>${i+1}</td><td>${t.deskripsi}</td><td class="${t.tipe==='pemasukan'?'plus':'minus'}">${t.tipe}</td><td>Rp ${t.jumlah.toLocaleString("id-ID")}</td><td>${formatDate(t.tanggal)}</td><td><button class="btn-hapus" onclick="hapus(${i})">Hapus</button></td></tr>`).join("");
    }
    function hapus(i){if(confirm("Hapus transaksi ini?")){transaksi.splice(i,1);localStorage.setItem("transaksi",JSON.stringify(transaksi));renderTable();}}
    function showLaporan(){
      const {pemasukan,pengeluaran,saldo}=updateSaldo();
      content.innerHTML=`<div class="card-container"><div class="card"><h3>Pemasukan</h3><p>Rp ${pemasukan.toLocaleString("id-ID")}</p></div>
      <div class="card"><h3>Pengeluaran</h3><p>Rp ${pengeluaran.toLocaleString("id-ID")}</p></div>
      <div class="card"><h3>Saldo</h3><p>Rp ${saldo.toLocaleString("id-ID")}</p></div></div>`;
      pageTitle.textContent="Laporan";setActive("üìä Laporan");
    }
    function showPage(p){if(p==='dashboard')showDashboard();if(p==='transaksi')showTransaksi();if(p==='laporan')showLaporan();}
    function setActive(txt){document.querySelectorAll(".menu-item").forEach(m=>{m.classList.toggle("active",m.textContent.trim()===txt)})}
    if(localStorage.getItem("loggedIn")==="true"){loginPage.style.display="none";app.style.display="flex";showDashboard();}
  </script>
</body>
</html>
